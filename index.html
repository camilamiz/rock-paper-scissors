<DOCTYPE! html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Project: Rock Paper Scissors!</title>
  </head>

  <body>
    <h1>Let's play Rock, Paper, Scissors!</h1>
    <h4>This is a 5 round game.</h4>
    <button onClick="game()">Start!</button>
    <p id="playRoundResults"></p>
    <!-- <p id="score"></p> -->
    <p id="finalScore"></p>

    <script>
      function computerPlay() {
        let list = ["rock", "paper", "scissors"];
        let computerInput = list[Math.floor(Math.random() * list.length)];
        return computerInput;
      }

      function capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      }

      function playRound(playerSelection, computerSelection) {
        if (playerSelection === computerSelection) {
          return `You both selected ${computerSelection}! That's a tie!`;
        } else if (
          playerSelection === "rock" && computerSelection === "paper" ||
          playerSelection === "scissors" && computerSelection === "rock" ||
          playerSelection === "paper" && computerSelection === "scissors"
          ) {
          return `You Lose! ${capitalize(computerSelection)} beats ${playerSelection}!`;
        } else {
          return `You Win! ${capitalize(computerSelection)} beats ${playerSelection}!`;
        }
      }

      function game() {
        let playerScore;
        let computerScore;

        for (let i = 1; i < 6; i++) {
          let playerInput = prompt("Choose rock, paper or scissors!").toLowerCase();
          let computerSelection = computerPlay();
          let result = playRound(playerInput, computerSelection);

          document.getElementById('playRoundResults').innerHTML = result;

          if (result.includes('Lose')) {
            computerScore++;
          }
          else if (result.includes('Win')) {
            playerScore++;
          }
        }
        document.getElementById('finalScore').innerHTML = `Final score: Computer ${computerScore} X ${playerScore} Player`;
      }

      // function resetGame() {
      //   playerScore = 0;
      //   computerScore = 0;
      //   i = 1;
      //   playRoundResults.textContent = "";
      //   score.textContent = "";
      //   finalScore.textContent = "";
      // }

    </script>

  </body>

</html>
